(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b03932"],{"3aae":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPic"},[a("el-dialog",{staticClass:"addPic_top",attrs:{title:"成交单编辑",visible:e.dialogVisible.trunoff,width:"86%","before-close":e.handleClose,top:"10px"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"trunoff",t)}}},[a("el-card",[a("el-form",{ref:"fromData",attrs:{rules:e.rules,model:e.fromData,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"projectId",label:"楼盘"}},[a("el-select",{attrs:{placeholder:"请选择楼盘"},model:{value:e.fromData.projectId,callback:function(t){e.$set(e.fromData,"projectId",t)},expression:"fromData.projectId"}},e._l(e.$store.getters.projectAll,(function(e,t){return a("el-option",{key:t,attrs:{label:e.projectName,value:e.projectId}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"value",label:"门店"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"190px"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择门店"},on:{select:e.handleSelect},nativeOn:{keydown:function(t){return e.keydownFn(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"value2",label:"经纪人"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"190px"},attrs:{"fetch-suggestions":e.querySearchagentId,placeholder:"请选择经纪人",disabled:""==e.value||""==e.fromData.deptId},on:{select:e.handleSelectagentId,click:e.checkDowm},nativeOn:{keydown:function(t){return e.keydownFnagentId(t)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"customerName",label:"客户姓名"}},[a("el-input",{attrs:{placeholder:"请输入客户姓名"},model:{value:e.fromData.customerName,callback:function(t){e.$set(e.fromData,"customerName",t)},expression:"fromData.customerName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"customerPhone",label:"客户电话"}},[a("el-input",{attrs:{placeholder:"请输入客户电话"},model:{value:e.fromData.customerPhone,callback:function(t){e.$set(e.fromData,"customerPhone",e._n(t))},expression:"fromData.customerPhone"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"tradeTime",label:"认购日期"}},[a("el-date-picker",{attrs:{format:"yyyy-mm-dd",type:"date",placeholder:"请选择认购日期"},model:{value:e.fromData.tradeTime,callback:function(t){e.$set(e.fromData,"tradeTime",t)},expression:"fromData.tradeTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"roomNO",label:"房号"}},[a("el-input",{attrs:{placeholder:"请输入房号"},model:{value:e.fromData.roomNO,callback:function(t){e.$set(e.fromData,"roomNO",e._n(t))},expression:"fromData.roomNO"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"area",label:"面积"}},[a("el-input",{attrs:{placeholder:"请输入面积"},model:{value:e.fromData.area,callback:function(t){e.$set(e.fromData,"area",e._n(t))},expression:"fromData.area"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"sumMoney",label:"成交金额"}},[a("el-input",{attrs:{placeholder:"请输入成交金额"},model:{value:e.fromData.sumMoney,callback:function(t){e.$set(e.fromData,"sumMoney",e._n(t))},expression:"fromData.sumMoney"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"commSumMoney",label:"税后金额"}},[a("el-input",{attrs:{placeholder:"请输入税后金额"},model:{value:e.fromData.commSumMoney,callback:function(t){e.$set(e.fromData,"commSumMoney",e._n(t))},expression:"fromData.commSumMoney"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"isElectron",label:"是否有团购"}},[a("el-switch",{model:{value:e.fromData.isElectron,callback:function(t){e.$set(e.fromData,"isElectron",t)},expression:"fromData.isElectron"}})],1)],1),a("el-col",{attrs:{span:8}},[e.fromData.isElectron?[a("el-form-item",{attrs:{prop:"groupSumMoney",label:"团购费实收"}},[a("el-input",{model:{value:e.fromData.groupSumMoney,callback:function(t){e.$set(e.fromData,"groupSumMoney",e._n(t))},expression:"fromData.groupSumMoney"}})],1)]:e._e()],2)],1),e.fromData.isElectron?[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"groupCanMoney",label:"团购费可结"}},[a("el-input",{model:{value:e.fromData.groupCanMoney,callback:function(t){e.$set(e.fromData,"groupCanMoney",e._n(t))},expression:"fromData.groupCanMoney"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"团购费凭证"}},[a("upPictrue",{ref:"upPictrueEle",attrs:{imgUrl:e.fromData.elePicUrl}})],1)],1)],1)]:e._e(),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"添加凭证"}},[a("upPictrue",{ref:"upPictrue",attrs:{imgUrl:e.fromData.picUrl}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.fromData.remark,callback:function(t){e.$set(e.fromData,"remark",t)},expression:"fromData.remark"}})],1)],1)],1),a("el-row",[a("el-form-item",[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.submitForm(t)}}},[e._v("保存")])],1)],1)],2)],1)],1)],1)},o=[],s=(a("1a8c"),a("c354"),a("3a20"),a("252a"),a("c451")),l=a("3e96"),i=a("07f3"),n=a("7cc0"),c=a("cf45"),u=a("5b14"),m={components:{upPictrue:u["a"]},props:{dialogVisible:{type:Object},infoSuccessData:{type:Object}},data:function(){return{selectQuery:{departmentName:"",pageSize:10,pageNo:1},userListQuery:{pageSize:115,pageNo:1,key:"",deptId:""},fromData:{projectId:32,deptId:1407,agentId:"f7ea60bd2d4311ea98ab70106f4a153c",customerName:"撒陈凯顶",customerPhone:"13981722508",tradeTime:"2018-12-9",roomNO:1,area:1223,sumMoney:1256,sumCommission:0,picUrl:[],isElectron:1,elePicUrl:[],commSumMoney:263,groupSumMoney:36,groupCanMoney:39,cardMoney:"123",remark:"213"},ok:{ticketId:562,agentId:"f7ea60bd2d4311ea98ab70106f4a153c",area:"12356",cash:0,commSumMoney:"263.00",customerName:"陈恺",customerPhone:"13981722508",cycleDays:0,deptId:1407,elePicUrl:["https://yunjinji.oss-cn-shenzhen.aliyuncs.com/202003/cdc114f1-7881-4ea4-945c-1aee1c9cade0.jpg"],groupCanMoney:"36.00",groupSumMoney:"36.00",isAgency:1,isElectron:1,picUrl:["https://yunjinji.oss-cn-shenzhen.aliyuncs.com/202003/a784942f-b170-4c17-8c68-df985c54774a.jpg"],preCommission:0,projectId:32,remark:"砍砍价就能玩",revenue:0,roomNO:"1256",sufCommission:0,sumCommission:0,sumMoney:"1256.0",tradeTime:"2020-03-02",appId:"prof",departmentId:999,model:"phone",role:4,system:"android",uid:"63dd4732676f11ea978570106f4a153c"},fromDatas:{projectId:123,deptId:122,agentId:"1232321321",customerName:"阿萨",customerPhone:"124548787",tradeTime:"45632486345",roomNO:"30",area:"123",sumMoney:"123",signTime:"111111111123",cycleDays:2,preCommission:20,sufCommission:20,cash:20,sumCommission:20,revenue:"62",picUrl:[],isElectron:1,commSumMoney:"11",groupSumMoney:"12",groupCanMoney:"12",cardMoney:"123",remark:"12222",isAgency:1},rules:{projectId:[{required:!0,message:"请选择楼盘",trigger:"blur"}],deptId:[{required:!0,message:"请选择经纪人",trigger:"blur"}],agentId:[{required:!0,message:"请选择经纪人",trigger:"blur"}],customerName:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],customerPhone:[{required:!0,message:"请输入客户电话",trigger:"blur"},{validator:c["d"],trigger:"change"}],tradeTime:[{required:!0,type:"date",message:"请输入认购时间",trigger:"blur"}],roomNO:[{required:!0,message:"请输入房号",trigger:"blur"}],area:[{required:!0,message:"请输入面积",trigger:"blur"},{validator:c["d"],trigger:"change"}],sumMoney:[{required:!0,message:"请输入成交金额",trigger:"blur"},{validator:c["d"],trigger:"change"}],sumCommission:[{required:!0,message:"请输入税后金额",trigger:"blur"},{validator:c["d"],trigger:"change"}],groupSumMoney:[{required:!0,message:"请输入团购费实收",trigger:"blur"},{validator:c["d"],trigger:"change"}],groupCanMoney:[{required:!0,message:"请输入团购费可结",trigger:"blur"},{validator:c["d"],trigger:"change"}]},value:"",value2:""}},methods:{handleClose:function(e){e()},submitForm:function(){var e=this,t=JSON.parse(JSON.stringify(this.fromData));t.isElectron=t.isElectron?1:0,1==t.isElectron?t.elePicUrl=this.$refs.upPictrueEle.urls:(t.groupSumMoney=0,t.groupCanMoney=0),t.tradeTime=Object(c["b"])(t.tradeTime,0),t.picUrl=this.$refs.upPictrue.urls,this.$refs.fromData.validate((function(a){if(!a)return console.log("error submit!!"),!1;Object(n["h"])(Object(s["a"])({},t,{ticketId:e.infoSuccessData.ticketId})).then((function(t){"000"===t.data.code&&e.$confirm("已保存, 是否提交?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){Object(n["f"])({ticketId:e.infoSuccessData.ticketId}).then((function(t){"000"===t.data.code&&(e.$message.success("提交成功"),e.resetFrom())}))})).catch((function(){e.resetFrom()}))}))}))},querySearch:function(e,t){this.selectQuery.departmentName=e,this.requestList(t)},handleSelect:function(e){this.fromData.deptId=e.departmentId,this.userListQuery.deptId=e.departmentId},keydownFn:function(){1!==this.value.length&&0!==this.value.length||(this.fromData.deptId=0)},requestList:function(e){var t=this;Object(l["m"])(this.selectQuery).then((function(a){if("000"===a.data.code)if(t.stores=a.data.bizData.items,0===t.stores.length||null==t.stores)e([{}]);else{var r=t.stores.map((function(e){return e.value=e.departmentName,e}));e(r)}}))},querySearchagentId:function(e,t){this.userListQuery.key=e,this.requestListagentId(t)},handleSelectagentId:function(e){this.fromData.agentId=e.uid},keydownFnagentId:function(){1!==this.values.length&&0!==this.values.length||(this.fromData.agentId="")},requestListagentId:function(e){Object(i["r"])(this.userListQuery).then((function(t){if("000"===t.data.code){var a=t.data.bizData.items;if(0===a.length||null==a)e([{}]);else{var r=a.map((function(e){return e.value=e.name,e}));e(r)}}}))},checkDowm:function(){},resetFrom:function(){this.$parent.onSubmit(),this.$parent.handleClick(this.$store.getters.tickta),this.$refs.fromData.resetFields(),this.dialogVisible.trunoff=!1}},watch:{infoSuccessData:{handler:function(e,t){for(var a in this.fromData)"isElectron"!==a?"roomNO"!==a?"customerName"!==a?"customerPhone"!==a?"picUrl"!==a?"elePicUrl"!==a?"remark"!=a?(this.value=this.infoSuccessData.departmentName,this.value2=this.infoSuccessData.agentName,this.fromData.agentId=this.infoSuccessData.agentId,this.fromData.deptId=this.infoSuccessData.departmentId,this.fromData.projectId=this.infoSuccessData.projectId,this.fromData[a]=this.infoSuccessData[a]):this.fromData[a]=this.infoSuccessData.tradeRemark:this.fromData[a]=this.infoSuccessData.eleUrls:this.fromData[a]=this.infoSuccessData.picUrls:this.fromData[a]=this.infoSuccessData.preMobile+this.infoSuccessData.midMobile+this.infoSuccessData.sufMobile:this.fromData[a]=this.infoSuccessData.customName:this.fromData[a]=this.infoSuccessData.roomNo:this.fromData[a]=!!this.infoSuccessData[a]},deep:!0}}},d=m,p=(a("d635"),a("e90a")),f=Object(p["a"])(d,r,o,!1,null,null,null);t["a"]=f.exports},"41ab":function(e,t,a){},"78ee":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPic"},[a("el-dialog",{staticClass:"addPic_top",attrs:{title:e.type,visible:e.dialogVisible.trunoff,width:"86%","before-close":e.handleClose,top:"10px"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"trunoff",t)}}},[a("el-card",[a("el-form",{ref:"fromData",attrs:{rules:e.rules,model:e.fromData,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},["代理成交单录入"==e.type?[a("el-form-item",{attrs:{prop:"projectId",label:"楼盘"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择楼盘"},model:{value:e.fromData.projectId,callback:function(t){e.$set(e.fromData,"projectId",t)},expression:"fromData.projectId"}},e._l(e.$store.getters.projectAll,(function(e,t){return a("el-option",{key:t,attrs:{label:e.projectName,value:e.projectId}})})),1)],1)]:[a("el-form-item",{attrs:{prop:"projectId",label:"楼盘"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchS,placeholder:"请输入内容"},on:{select:e.handleSelects},model:{value:e.daivalue,callback:function(t){e.daivalue=t},expression:"daivalue"}})],1)]],2),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"deptId",label:"门店"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请选择门店"},on:{select:e.handleSelect},nativeOn:{keydown:function(t){return e.keydownFn(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"agentId",label:"经纪人"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchagentId,placeholder:"请选择经纪人",disabled:""==e.value||""==e.fromData.deptId},on:{select:e.handleSelectagentId,click:e.checkDowm},nativeOn:{keydown:function(t){return e.keydownFnagentId(t)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"customerName",label:"客户姓名"}},[a("el-input",{attrs:{placeholder:"请输入客户姓名"},model:{value:e.fromData.customerName,callback:function(t){e.$set(e.fromData,"customerName",t)},expression:"fromData.customerName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"customerPhone",label:"客户电话"}},[a("el-input",{attrs:{placeholder:"请输入客户电话"},model:{value:e.fromData.customerPhone,callback:function(t){e.$set(e.fromData,"customerPhone",e._n(t))},expression:"fromData.customerPhone"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"tradeTime",label:"认购日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择认购日期"},model:{value:e.fromData.tradeTime,callback:function(t){e.$set(e.fromData,"tradeTime",t)},expression:"fromData.tradeTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"roomNO",label:"房号"}},[a("el-input",{attrs:{placeholder:"请输入房号"},model:{value:e.fromData.roomNO,callback:function(t){e.$set(e.fromData,"roomNO",e._n(t))},expression:"fromData.roomNO"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"area",label:"面积"}},[a("el-input",{attrs:{placeholder:"请输入面积"},model:{value:e.fromData.area,callback:function(t){e.$set(e.fromData,"area",e._n(t))},expression:"fromData.area"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"sumMoney",label:"成交金额"}},[a("el-input",{attrs:{placeholder:"请输入成交金额"},model:{value:e.fromData.sumMoney,callback:function(t){e.$set(e.fromData,"sumMoney",e._n(t))},expression:"fromData.sumMoney"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"sumCommission",label:"税后金额"}},[a("el-input",{attrs:{placeholder:"请输入税后金额"},model:{value:e.fromData.sumCommission,callback:function(t){e.$set(e.fromData,"sumCommission",e._n(t))},expression:"fromData.sumCommission"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"isElectron",label:"是否有团购"}},[a("el-switch",{model:{value:e.fromData.isElectron,callback:function(t){e.$set(e.fromData,"isElectron",t)},expression:"fromData.isElectron"}})],1)],1),a("el-col",{attrs:{span:8}},[e.fromData.isElectron?[a("el-form-item",{attrs:{prop:"groupSumMoney",label:"团购费实收"}},[a("el-input",{model:{value:e.fromData.groupSumMoney,callback:function(t){e.$set(e.fromData,"groupSumMoney",e._n(t))},expression:"fromData.groupSumMoney"}})],1)]:e._e()],2)],1),e.fromData.isElectron?[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"groupCanMoney",label:"团购费可结"}},[a("el-input",{model:{value:e.fromData.groupCanMoney,callback:function(t){e.$set(e.fromData,"groupCanMoney",e._n(t))},expression:"fromData.groupCanMoney"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"团购费凭证"}},[a("upPictrue",{ref:"upPictrueEle"})],1)],1)],1)]:e._e(),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"添加凭证"}},[a("upPictrue",{ref:"upPictrue"})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.fromData.remark,callback:function(t){e.$set(e.fromData,"remark",t)},expression:"fromData.remark"}})],1)],1)],1),a("el-row",[a("el-form-item",[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")])],1)],1)],2)],1)],1)],1)},o=[],s=(a("1a8c"),a("c354"),a("3a20"),a("252a"),a("3e96")),l=a("07f3"),i=a("7cc0"),n=a("cf45"),c=a("5b14"),u=a("b35e"),m={mixins:[u["a"]],components:{upPictrue:c["a"]},props:{dialogVisible:{type:Object},type:{type:String}},data:function(){return{selectQuery:{departmentName:"",pageSize:10,pageNo:1},userListQuery:{pageSize:115,pageNo:1,key:"",deptId:""},fromData:{projectId:"",deptId:"",agentId:"",customerName:"",customerPhone:"",tradeTime:"",roomNO:"",area:"",sumMoney:"",signTime:"",cycleDays:"",preCommission:"",sufCommission:"",cash:"",sumCommission:"",revenue:"",picUrl:[],picUrl2:[],isElectron:1,elePicUrl:[],commSumMoney:"",groupSumMoney:"",groupCanMoney:"",cardMoney:"",remark:"",isAgency:""},fromDatas:{projectId:123,deptId:122,agentId:"1232321321",customerName:"阿萨",customerPhone:"124548787",tradeTime:"45632486345",roomNO:"30",area:"123",sumMoney:"123",signTime:"111111111123",cycleDays:2,preCommission:20,sufCommission:20,cash:20,sumCommission:20,revenue:"62",picUrl:[],isElectron:1,commSumMoney:"11",groupSumMoney:"12",groupCanMoney:"12",cardMoney:"123",remark:"12222",isAgency:1},rules:{projectId:[{required:!0,message:"请选择楼盘",trigger:"blur"}],deptId:[{required:!0,message:"请选择门店",trigger:"blur"}],agentId:[{required:!0,message:"请选择经纪人",trigger:"blur"}],customerName:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],customerPhone:[{required:!0,message:"请输入客户电话",type:"number",trigger:"blur"},{validator:n["d"],trigger:"change"}],tradeTime:[{required:!0,type:"date",message:"请输入认购时间",trigger:"blur"}],roomNO:[{required:!0,message:"请输入房号",trigger:"blur"}],area:[{required:!0,message:"请输入面积",trigger:"blur"},{validator:n["d"],trigger:"change"}],sumMoney:[{required:!0,message:"请输入成交金额",trigger:"blur"},{validator:n["d"],trigger:"change"}],sumCommission:[{required:!0,message:"请输入税后金额",trigger:"blur"},{validator:n["d"],trigger:"change"}],groupSumMoney:[{required:!0,message:"请输入团购费实收",trigger:"blur"},{validator:n["d"],trigger:"change"}],groupCanMoney:[{required:!0,message:"请输入团购费可结",trigger:"blur"},{validator:n["d"],trigger:"change"}]},daivalue:"",value:"",value2:""}},methods:{handleClose:function(e){this.resetFrom(),e()},submitForm:function(){var e=this,t=JSON.parse(JSON.stringify(this.fromData));t.isElectron=t.isElectron?1:0,t.isElectron?t.elePicUrl=this.$refs.upPictrueEle.urls:(t.groupSumMoney=0,t.groupCanMoney=0),t.signTime=Object(n["b"])(t.tradeTime,0),t.tradeTime=Object(n["b"])(t.tradeTime,0),"成交单录入"===this.type?t.isAgency=0:t.isAgency=1,t.picUrl=this.$refs.upPictrue.urls,this.$refs.fromData.validate((function(a){if(!a)return console.log("error submit!!"),!1;Object(i["a"])(t).then((function(t){"000"===t.data.code&&(e.$message.success("成交单添加成功"),e.resetFrom())}))}))},querySearch:function(e,t){this.selectQuery.departmentName=e,this.requestList(t)},handleSelect:function(e){this.fromData.deptId=e.departmentId,this.userListQuery.deptId=e.departmentId},keydownFn:function(){1!==this.value.length&&0!==this.value.length||(this.fromData.deptId=0)},requestList:function(e){var t=this;Object(s["m"])(this.selectQuery).then((function(a){if("000"===a.data.code)if(t.stores=a.data.bizData.items,0===t.stores.length||null==t.stores)e([{}]);else{var r=t.stores.map((function(e){return e.value=e.departmentName,e}));e(r)}}))},querySearchagentId:function(e,t){this.userListQuery.key=e,this.requestListagentId(t)},handleSelectagentId:function(e){this.fromData.agentId=e.uid},keydownFnagentId:function(){1!==this.values.length&&0!==this.values.length||(this.fromData.agentId="")},requestListagentId:function(e){Object(l["r"])(this.userListQuery).then((function(t){if("000"===t.data.code){var a=t.data.bizData.items;if(0===a.length||null==a)e([{}]);else{var r=a.map((function(e){return e.value=e.name,e}));e(r)}}}))},checkDowm:function(){},handleSelects:function(e){this.fromData.projectId=e.projectId},resetFrom:function(){this.$parent.onSubmit(),this.$refs.fromData.resetFields(),this.dialogVisible.trunoff=!1,this.value="",this.value2="",this.daivalue=""}}},d=m,p=(a("ba69"),a("e90a")),f=Object(p["a"])(d,r,o,!1,null,null,null);t["a"]=f.exports},a1b5:function(e,t,a){},ba69:function(e,t,a){"use strict";var r=a("ee47"),o=a.n(r);o.a},c398:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addchieve"},[r("el-card",{staticClass:"title"},[r("img",{attrs:{src:a("8eb8")}}),r("span",{on:{click:function(t){return e.$emit("InvoiceOffFN")}}},[e._v("返回开票详情")]),r("b",[e._v("业绩单详细")])]),r("div",{staticClass:"scoll_context"},[e._l(e.arrsFn,(function(t,a){return r("el-card",{key:a,staticClass:"infoSuccess_card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("认购信息")])]),r("el-row",{staticClass:"infoSuccess",attrs:{gutter:6}},[r("el-col",{attrs:{span:12}},e._l(t.one,(function(t,a){return r("div",{key:a,class:"picUrls"===t.key||"picUrls2"===t.key||"eleUrls"===t.key?"itemImg":"item"},[r("div",[e._v(e._s(t.title)+":")]),"picUrls"===t.key||"picUrls2"===t.key||"eleUrls"===t.key?r("div",e._l(t.text,(function(t){return r("img",{key:t,staticClass:"imgs",attrs:{src:t},on:{click:function(a){return e.imgFn(t)}}})})),0):r("div",[e._v(e._s(t.text))])])})),0),r("el-col",{attrs:{span:12}},e._l(t.two,(function(t,a){return r("div",{key:a,class:"picUrls"===t.key||"picUrls2"===t.key||"eleUrls"===t.key?"itemImg":"item"},[r("div",[e._v(e._s(t.title)+":")]),"picUrls"===t.key||"picUrls2"===t.key||"eleUrls"===t.key?r("div",e._l(t.text,(function(t){return r("img",{key:t,staticClass:"imgs",attrs:{src:t},on:{click:function(a){return e.imgFn(t)}}})})),0):r("div",[e._v(e._s(t.text))])])})),0)],1)],1)})),[r("el-card",{attrs:{"body-style":"text-align: center;"}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-plus"},on:{click:e.addAlertFn}},[e._v("添加业绩")])],1)]],2),r("addchieveAlert",{attrs:{dialogVisible:e.addAlert}})],1)},o=[],s=(a("7ae7"),a("af82"),a("4045"),a("9a14"),a("2ef9")),l=a("cf45"),i=a("1cce"),n={components:{addchieveAlert:i["a"]},props:{infoSuObj:{type:Object}},data:function(){return{arrs:[{title:"成交单详细",one:[{title:"楼盘",text:"",key:"projectName"},{title:"门店",text:"",key:"departmentName"},{title:"经纪人",text:"",key:"agentName"},{title:"客户姓名",text:"",key:"customName"},{title:"客户电话",text:"",key:"customerPhone"},{title:"认购日期",text:"",key:"tradeTime"},{title:"房号",text:"",key:"roomNo",lable:"号"},{title:"面积",text:"",key:"area",lable:"m*2"},{title:"成交金额",text:"",key:"sumMoney",lable:"元"},{title:"税后金额",text:"",key:"commSumMoney",lable:"元"},{title:"认购备注",text:"",key:"tradeRemark"},{title:"成交凭证",text:"",key:"picUrls"}],two:[{title:"团购费实收",text:"",key:"groupSumMoney",lable:"元"},{title:"团购费可结",text:"",key:"groupCanMoney",lable:"元"},{title:"团购凭证",text:"",key:"eleUrls"},{title:"创建人",text:"",key:"createrName"},{title:"创建时间",text:"",key:"createTime"},{title:"状态",text:"",key:"statusStr"},{title:"提交时间",text:"",key:"commitTime"},{title:"审核人",text:"",key:"checkName"},{title:"审核时间",text:"",key:"checkTime"},{title:"原因",text:"",key:"reason"}]}],addAlert:{trunoff:!1,data:null}}},methods:{addAlertFn:function(){this.addAlert.trunoff=!0}},computed:{arrsFn:function(){var e=this,t=[];this.arrs.forEach((function(e){t=[].concat(Object(s["a"])(t),Object(s["a"])(e.one),Object(s["a"])(e.two))}));return t.forEach((function(t){void 0!=t.lable?t.text=null==e.infoSuObj[t.key]||void 0==e.infoSuObj[t.key]?0+t.lable:e.infoSuObj[t.key]+t.lable:-1!=t.key.indexOf("Time")?t.text=Object(l["b"])(e.infoSuObj[t.key]):"客户电话"==t.title?t.text=e.infoSuObj.preMobile+e.infoSuObj.midMobile+e.infoSuObj.sufMobile:t.text=e.infoSuObj[t.key]})),this.addAlert.data=this.arrs,this.arrs}}},c=n,u=(a("c53f"),a("e90a")),m=Object(u["a"])(c,r,o,!1,null,"f107b01a",null);t["a"]=m.exports},c53f:function(e,t,a){"use strict";var r=a("a1b5"),o=a.n(r);o.a},d635:function(e,t,a){"use strict";var r=a("41ab"),o=a.n(r);o.a},ee47:function(e,t,a){}}]);
//# sourceMappingURL=chunk-76b03932.54697601.js.map