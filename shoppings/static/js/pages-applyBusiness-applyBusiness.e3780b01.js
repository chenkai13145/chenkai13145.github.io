(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-applyBusiness-applyBusiness"],{"22ae":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'.content[data-v-3bba1b17]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#333}.content .list-wraper[data-v-3bba1b17]{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;padding:%?20?% %?30?%;background:#fff}.content .list-wraper .tit[data-v-3bba1b17]{-webkit-box-flex:1.5;-webkit-flex:1.5;-ms-flex:1.5;flex:1.5}.content .list-wraper .tit uni-text[data-v-3bba1b17]{font-size:%?28?%}.content .list-wraper .input-all[data-v-3bba1b17]{-webkit-box-flex:4;-webkit-flex:4;-ms-flex:4;flex:4}.content .list-wraper .input-all .inpt[data-v-3bba1b17]{padding-top:%?6?%;font-size:%?28?%}.content .logo-wraper .input-all[data-v-3bba1b17]{text-align:right}.content .logo-wraper .input-all uni-image[data-v-3bba1b17]{width:%?100?%;height:%?100?%}.content .list-wraper[data-v-3bba1b17]:after{position:absolute;content:"";width:calc(100% - %?60?%);height:%?2?%;left:%?30?%;bottom:0;background:#ccc}.content .ind-wraper[data-v-3bba1b17]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left}.content .ind-wraper .tit[data-v-3bba1b17]{width:100%}.content .ind-wraper .input-lg[data-v-3bba1b17]{width:100%;padding:%?20?% %?10?%}.content .ind-wraper .input-lg .lg-text[data-v-3bba1b17]{font-size:%?24?%;color:#777}.content .btn-box[data-v-3bba1b17]{width:100%;padding:%?40?% %?30?%}',""])},"5d48":function(t,i,e){"use strict";e.r(i);var n=e("980f"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);i["default"]=a.a},6879:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-3bba1b17]{background:#f5f5f5;width:100%;height:100%}.h-20upx[data-v-3bba1b17]{height:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.tips[data-v-3bba1b17]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;padding:%?20?% %?30?%;background-color:#fff}.tips_left[data-v-3bba1b17]{width:94%;font-size:%?28?%;color:#de7d67}.tips_right[data-v-3bba1b17]{width:5%}.tips_right uni-image[data-v-3bba1b17]{width:%?40?%;height:%?40?%}.btn[data-v-3bba1b17]{background-color:#f29b87;color:#fff}.input-logo[data-v-3bba1b17]{width:%?120?%;height:%?120?%;line-height:%?120?%;text-align:center;font-size:%?27?%;color:#444}.input-logo uni-image[data-v-3bba1b17]{width:%?120?%;height:%?120?%}.input-Image[data-v-3bba1b17]{width:%?420?%;height:%?320?%;line-height:%?320?%;text-align:center;font-size:%?27?%;border:%?1?% #ccc solid;color:#444}.input-Image uni-image[data-v-3bba1b17]{width:%?420?%;height:%?320?%}.radio[data-v-3bba1b17]{font-size:%?28?%;-webkit-transform:scale(.7);-ms-transform:scale(.7);transform:scale(.7)}body.?%PAGE?%[data-v-3bba1b17]{background:#f5f5f5}",""])},"6b7e":function(t,i,e){"use strict";var n=e("fa77"),a=e.n(n);a.a},"79bf":function(t,i,e){"use strict";e.r(i);var n=e("9830"),a=e("5d48");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("6b7e"),e("b2e2");var s=e("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"3bba1b17",null);i["default"]=l.exports},"980f":function(t,i,e){"use strict";var n=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("28a5");var a=n(e("5176"));e("a481"),e("7f7f");var o=n(e("f963")),s=n(e("7f0f")),l=n(e("736b")),c=e("0dc4"),r=new s.default,u={data:function(){return{cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"选择省/市/区",addressName:"请选择商家地址",logImg:"",infor:{},BusinessImg:"",BusinessImgId:"",logImgID:"",shopsType:[]}},components:{mpvueCityPicker:o.default},onLoad:function(){var t=this;r.submit({request:{m:["APPLICATIONTYPEoption",[{module:"merchant_type"}]]},callback:function(i){var e=l.default.checkError(i,["m"],function(t,i){uni.showToast({title:i,icon:"none"})});console.log("回调成功",e),e.m&&(t.shopsType=e.m[0].son)},error:function(t){uni.showToast({title:"出错啦",icon:"none"})}})},methods:{goPage:function(){var t=this;uni.chooseLocation({success:function(i){console.log("res",i),console.log("位置名称："+i.name),t.addressName=i.address+i.name,t.infor.address=i.address+i.name,t.infor.lat=i.latitude,t.infor.lng=i.longitude,console.log("经度："+i.longitude),console.log("详细地址："+i.address),console.log("纬度："+i.latitude)}})},gain:function(t){this.infor.type_id=t,console.log("类别id",this.infor.type_id)},uplodingImg:function(t){var i=this;console.log(t),uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(e){console.log("chooseImage success, temp path is",e.tempFilePaths[0]);var n=e.tempFilePaths[0];r.left_token(function(e){var a=r.api_server_url+"?"+encodeURI('data=[["APPLICATIONIMAGEUPLOADQINIU"]]')+"&token="+e;uni.uploadFile({url:a,filePath:n,fileType:"image",name:"file",success:function(e){console.log("上传成功:",e.data);var a=JSON.parse(e.data);console.log(a),uni.showToast({title:"上传成功",icon:"success",duration:1e3,success:function(){1==t?(i.logImg=n,i.infor.logo_image_id=a.data[0].data.image_id):(i.BusinessImg=n,i.infor.license_image_id=a.data[0].data.image_id)}})},fail:function(t){console.log("uploadImage fail",t),uni.showModal({content:t.errMsg,showCancel:!1})}})})},fail:function(t){console.log("chooseImage fail",t)}})},commit:function(){var t=this;if(console.log("表单",t.infor),t.infor.logo_image_id)if(t.infor.name&&t.infor.name.replace(/\s/g,""))if(t.infor.weixin&&t.infor.weixin.replace(/\s/g,""))if(t.infor.phone&&t.infor.phone.replace(/\s/g,""))if(t.isPoneAvailable(t.infor.phone))if(t.infor.city)if(t.infor.city)if(t.infor.address)if(t.infor.info&&t.infor.info.replace(/\s/g,""))if(t.infor.license_image_id){var i=(0,a.default)({},t.infor);r.submit({request:{s:["MERCHANTSELFAPPLY",[i]]},callback:function(t){var i=l.default.checkError(t,["s"],function(t,i){uni.showToast({title:i,icon:"none"}),"您申请的商家正在审核，请稍后..."==i&&setTimeout(function(){uni.switchTab({url:"../user/user"})},2500)});console.log("回调成功",i),i.s&&uni.showToast({title:"申请成功，审核中",success:function(){setTimeout(function(){uni.switchTab({url:"../user/user"})},2e3)}})},error:function(t){uni.showToast({title:"出错啦",icon:"none"})}})}else uni.showToast({title:"请选择营业执照！",icon:"none"});else uni.showToast({title:"请输入商家介绍！",icon:"none"});else uni.showToast({title:"请选择线下商铺地点！",icon:"none"});else uni.showToast({title:"请选择省市区！",icon:"none"});else uni.showToast({title:"请选择省市区！",icon:"none"});else uni.showToast({title:"您输入的手机号格式不正确，请检查后重新输入！",icon:"none"});else uni.showToast({title:"请输入商家手机号！",icon:"none"});else uni.showToast({title:"请输入商家微信号！",icon:"none"});else uni.showToast({title:"请输入店铺名称！",icon:"none"});else uni.showToast({title:"请选择店铺头像！",icon:"none"})},isPoneAvailable:function(t){var i=/^[1][3,4,5,7,8][0-9]{9}$/;return!!i.test(t)},onConfirm:function(t){console.log(t);var i=t.label;this.pickerText=i;var e=i.split("-");this.infor.province=e[0],this.infor.city=e[1],this.infor.district=e[2]},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},openLocation:function(){c.getLocation({type:"wgs84",success:function(t){var i=t.latitude,e=t.longitude;c.openLocation({latitude:i,longitude:e,name:"位置名",scale:16,infoUrl:"http://www.baidu.com"})},fail:function(){},complete:function(){}})}}};i.default=u},9830:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"list-wraper logo-wraper",on:{click:function(i){i=t.$handleEvent(i),t.uplodingImg(1)}}},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("点击上传商家logo")])],1),e("v-uni-view",{staticClass:"input-logo"},[t.logImg?e("v-uni-image",{attrs:{src:t.logImg,mode:""}}):e("v-uni-image",{attrs:{src:"http://mp.emshop.eonfox.com/zrhzstatic/muying/shop.png",mode:""}})],1)],1),e("v-uni-view",{staticClass:"list-wraper"},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("商家名称：")])],1),e("v-uni-view",{staticClass:"input-all"},[e("v-uni-input",{staticClass:"inpt",attrs:{type:"text",value:"",placeholder:"请输入商家名称"},model:{value:t.infor.name,callback:function(i){t.$set(t.infor,"name",i)},expression:"infor.name"}})],1)],1),e("v-uni-view",{staticClass:"list-wraper"},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("商家微信：")])],1),e("v-uni-view",{staticClass:"input-all"},[e("v-uni-input",{staticClass:"inpt",attrs:{type:"text",value:"",placeholder:"请输入商家微信"},model:{value:t.infor.weixin,callback:function(i){t.$set(t.infor,"weixin",i)},expression:"infor.weixin"}})],1)],1),e("v-uni-view",{staticClass:"list-wraper"},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("商家手机号：")])],1),e("v-uni-view",{staticClass:"input-all"},[e("v-uni-input",{staticClass:"inpt",attrs:{type:"number",maxlength:"11",value:"",placeholder:"请输入手机号"},model:{value:t.infor.phone,callback:function(i){t.$set(t.infor,"phone",i)},expression:"infor.phone"}})],1)],1),e("v-uni-view",{staticClass:"list-wraper"},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("商家类别：")])],1),e("v-uni-view",{staticClass:"input-all"},[e("v-uni-radio-group",t._l(t.shopsType,function(i,n){return e("v-uni-label",{key:n,staticClass:"radio"},[e("v-uni-radio",{staticClass:"radio",attrs:{value:"r1"},on:{click:function(e){e=t.$handleEvent(e),t.gain(i.type_id)}}}),t._v(t._s(i.name))],1)}),1)],1)],1),e("v-uni-view",{staticClass:"list-wraper",on:{click:function(i){i=t.$handleEvent(i),t.showMulLinkageThreePicker(i)}}},[e("v-uni-view",{staticClass:"tips_left"},[e("v-uni-text",[t._v(t._s(t.pickerText))])],1),e("v-uni-view",{staticClass:"tips_right"},[e("v-uni-image",{attrs:{src:"../../static/right-arrow.png"}})],1)],1),e("v-uni-view",{staticClass:"tips",on:{click:function(i){i=t.$handleEvent(i),t.goPage(i)}}},[e("v-uni-view",{staticClass:"tips_left"},[e("v-uni-text",[t._v(t._s(t.addressName))])],1),e("v-uni-view",{staticClass:"tips_right"},[e("v-uni-image",{attrs:{src:"../../static/right-arrow.png"}})],1)],1),e("v-uni-view",{staticClass:"h-20upx"}),e("v-uni-view",{staticClass:"list-wraper ind-wraper"},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("商家介绍：")])],1),e("v-uni-view",{staticClass:"input-lg"},[e("v-uni-textarea",{staticClass:"lg-text",attrs:{value:"",placeholder:"请输入..."},model:{value:t.infor.info,callback:function(i){t.$set(t.infor,"info",i)},expression:"infor.info"}})],1)],1),e("v-uni-view",{staticClass:"list-wraper logo-wraper",on:{click:function(i){i=t.$handleEvent(i),t.uplodingImg(2)}}},[e("v-uni-view",{staticClass:"tit"},[e("v-uni-text",[t._v("点击上传营业执照：")])],1),e("v-uni-view",{staticClass:"input-Image"},[t.BusinessImg?e("v-uni-image",{attrs:{src:t.BusinessImg,mode:""}}):e("v-uni-image",{attrs:{src:"http://mp.emshop.eonfox.com/zrhzstatic/muying/yingyezhizhao.png",mode:""}})],1)],1),e("v-uni-view",{staticClass:"btn-box"},[e("v-uni-button",{staticClass:"btn",on:{click:function(i){i=t.$handleEvent(i),t.commit()}}},[t._v("提交申请")])],1),e("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor,pickerValueDefault:t.cityPickerValueDefault},on:{onConfirm:function(i){i=t.$handleEvent(i),t.onConfirm(i)}}})],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},b2e2:function(t,i,e){"use strict";var n=e("e094"),a=e.n(n);a.a},e094:function(t,i,e){var n=e("22ae");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("7f0afaaa",n,!0,{sourceMap:!1,shadowMode:!1})},fa77:function(t,i,e){var n=e("6879");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("7ceec89c",n,!0,{sourceMap:!1,shadowMode:!1})}}]);